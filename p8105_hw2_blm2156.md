Homework 2 (p8105)
================
Britney Mazzetta (blm2156)

# Problem 1

## Mr. Trash Wheel

``` r
library(tidyverse)
```

    ## ── Attaching packages ───────────────── tidyverse 1.2.1 ──

    ## ✔ ggplot2 3.2.1     ✔ purrr   0.3.2
    ## ✔ tibble  2.1.3     ✔ dplyr   0.8.3
    ## ✔ tidyr   1.0.0     ✔ stringr 1.4.0
    ## ✔ readr   1.3.1     ✔ forcats 0.4.0

    ## ── Conflicts ──────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()

``` r
library(readxl)

prob1 = 
  read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", 
  sheet = 1, range = "A2:N338") %>%
  janitor::clean_names() %>%
  drop_na(dumpster) %>%
  mutate(sport_balls = as.integer(sports_balls)) %>%
  select(-sports_balls)
```

## 2017 Precipitation

``` r
precip2017 = 
  read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", 
  sheet = 6, range = "A2:B14") %>%
  janitor::clean_names() %>%
  mutate(
    Year = 2017
    )
```

## 2018 Precipitation

``` r
precip2018 = 
  read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", 
  sheet = 5, range = "A2:B14") %>%
  janitor::clean_names() %>%
  mutate(
    Year = 2018
    )
```

## Combine Datasets

``` r
combined_data =
  bind_rows(precip2017, precip2018) %>%
  mutate(
    month = as.numeric(month),
    month = month.name[month]
  )
```

## Paragraph

12 12 24

2.145 5.455 4.215

The total amount of precipitation is 32.93 70.33 103.26

8

# Problem 2

``` r
pols = 
  read_csv("./data/pols-month.csv") %>%
  janitor::clean_names() %>% 
  separate(mon, c("year", "month", "day"), sep = "-")%>%
  mutate(
    year = as.numeric(year),
    month = as.numeric(month),
    month = month.abb[month],
    month = str_to_lower(month),
    president = ifelse(prez_gop == 1, "gop", "dem") 
  ) %>%
      select(-prez_gop, -prez_dem, -day)
```

    ## Parsed with column specification:
    ## cols(
    ##   mon = col_date(format = ""),
    ##   prez_gop = col_double(),
    ##   gov_gop = col_double(),
    ##   sen_gop = col_double(),
    ##   rep_gop = col_double(),
    ##   prez_dem = col_double(),
    ##   gov_dem = col_double(),
    ##   sen_dem = col_double(),
    ##   rep_dem = col_double()
    ## )

``` r
snp = 
  read_csv("./data/snp.csv") %>%
  janitor::clean_names() %>% 
  separate(date, c("month", "day", "year"), sep = "/")%>%
 select(year, month, -day, close)%>%
  mutate(
    month = as.numeric(month),
    month = month.abb[month],
    month = str_to_lower(month),
    year = as.numeric(year)
  ) %>%
  arrange(year, month)
```

    ## Parsed with column specification:
    ## cols(
    ##   date = col_character(),
    ##   close = col_double()
    ## )

``` r
unemployment = 
  read_csv("./data/unemployment.csv") %>%
  janitor::clean_names() %>% 
  pivot_longer(
    jan:dec,
    names_to = "month",
    values_to = "unemployment_rate"
  )
```

    ## Parsed with column specification:
    ## cols(
    ##   Year = col_double(),
    ##   Jan = col_double(),
    ##   Feb = col_double(),
    ##   Mar = col_double(),
    ##   Apr = col_double(),
    ##   May = col_double(),
    ##   Jun = col_double(),
    ##   Jul = col_double(),
    ##   Aug = col_double(),
    ##   Sep = col_double(),
    ##   Oct = col_double(),
    ##   Nov = col_double(),
    ##   Dec = col_double()
    ## )

## Joining the datasets

``` r
snp_pols = 
  left_join(pols, snp, by = c("year", "month"))

prob2_full =
  left_join(snp_pols, unemployment,  by = c("year", "month"))
```

# Problem 3

``` r
baby_names_data = read_csv("./data/Popular_Baby_Names.csv") %>%
  distinct() %>%
  janitor::clean_names() %>%
  mutate(ethnicity = recode(ethnicity, "ASIAN AND PACI" = "ASIAN AND PACIFIC ISLANDER", "BLACK NON HISP" = "BLACK NON HISPANIC", "WHITE NON HISP" = "WHITE NON HISPANIC")) %>%
  mutate(ethnicity = str_to_lower(ethnicity), gender = str_to_lower(gender), childs_first_name = str_to_lower(childs_first_name))
```

    ## Parsed with column specification:
    ## cols(
    ##   `Year of Birth` = col_double(),
    ##   Gender = col_character(),
    ##   Ethnicity = col_character(),
    ##   `Child's First Name` = col_character(),
    ##   Count = col_double(),
    ##   Rank = col_double()
    ## )
